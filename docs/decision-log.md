# Decision Log

Небольшой журнал решений по проекту. Формат простой: что решили и почему.

## 2026-02-16: JSON-отчет как основной формат
Решение:
- Сохраняем результат benchmark в `*.report.json`.

Почему:
- Удобно парсить в будущих CI-проверках.
- Можно прикрутить markdown/html-рендер без переписывания runner.

Минус:
- Глазами читать менее удобно, чем markdown.

## 2026-02-16: SQL-сценарий в формате before/after
Решение:
- Каждый кейс хранится как пара файлов: `name.before.sql` и `name.after.sql`.

Почему:
- Явно видно точку оптимизации.
- Легко проверять тестом на парность сценариев.

Минус:
- Не подходит для сложных сценариев с несколькими альтернативами оптимизации.

## 2026-02-16: Runner делит SQL по `;`
Решение:
- Последний statement считаем benchmark query, остальные setup-командами.

Почему:
- Достаточно для первых кейсов и не требует тяжелого SQL-парсера.

Минус:
- Ограничение на сложные SQL-блоки.
